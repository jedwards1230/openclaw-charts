image:
  repository: ghcr.io/jedwards1230/openclaw-charts
  tag: latest
  pullPolicy: IfNotPresent

imagePullSecrets: []

replicaCount: 1

strategy:
  type: Recreate

# -- OpenClaw gateway configuration (templated into openclaw.json)
gateway:
  port: 18789
  bind: "lan"
  auth:
    mode: "token"
  controlUi:
    allowInsecureAuth: true

# -- Freeform app config (merged with gateway into openclaw.json)
# Add any top-level openclaw.json keys here (agents, channels, tools, etc.)
# These are serialized to JSON as-is â€” no chart update needed for config changes.
config: {}

# -- Extra environment variables for the main container
# Use this to inject secrets, API keys, or any additional env vars.
# Example:
#   extraEnv:
#     - name: MY_SECRET
#       valueFrom:
#         secretKeyRef:
#           name: my-secret
#           key: MY_KEY
extraEnv: []

# -- Git identity for commits
git:
  authorName: "LilClaw"
  authorEmail: "lilclaw@lilbro.cloud"
  committerName: "LilClaw"
  committerEmail: "lilclaw@lilbro.cloud"
  configGlobal: "/home/node/.openclaw/.gitconfig"

# -- Node.js options
nodeOptions: "--max-old-space-size=1536"

# -- Home directory path inside the container
homePath: "/home/node"

# -- Envsubst init container image
envsubst:
  image: dibi/envsubst:latest

# -- Secrets configuration
secrets:
  existingSecret: ""
  onepassword:
    enabled: false
    itemPath: ""

# -- NFS persistence for openclaw workspace/config
persistence:
  size: 10Gi
  accessModes:
    - ReadWriteMany
  nfs:
    enabled: false
    server: ""
    path: ""

# -- Ingress configuration
ingress:
  enabled: false
  host: ""
  annotations: {}
  tls: []

# -- Additional ingresses for separate access rules
# Useful for exposing specific endpoints (e.g., webhooks) with different
# security settings while keeping the main UI restricted to LAN-only access.
#
# Example: Expose /hooks endpoint publicly while main UI stays LAN-only
# additionalIngresses:
#   - name: webhook
#     enabled: true
#     host: openclaw.example.com
#     path: /hooks
#     pathType: Prefix
#     annotations:
#       traefik.ingress.kubernetes.io/router.entrypoints: web,websecure
#       cert-manager.io/cluster-issuer: letsencrypt-prod
#     tls:
#       - hosts:
#           - openclaw.example.com
#         secretName: openclaw-webhook-tls
additionalIngresses: []

# -- Service configuration
service:
  type: ClusterIP
  port: 18789

# -- Resource requests and limits
resources:
  requests:
    cpu: 100m
    memory: 512Mi
  limits:
    cpu: 2000m
    memory: 2Gi

# -- Pod security context
podSecurityContext:
  runAsUser: 1000
  runAsGroup: 1000
  fsGroup: 1000

# -- Container security context
securityContext:
  allowPrivilegeEscalation: false
  readOnlyRootFilesystem: false
  capabilities:
    drop:
      - ALL

# -- Pod annotations (e.g., Velero backup hooks)
podAnnotations: {}

# -- Priority class name for scheduling priority
priorityClassName: ""

# -- Override default health probes (TCP socket on gateway port)
# Set per-probe config to override. Omit or set to {} to use defaults.
probes:
  startup: {}
  liveness: {}
  readiness: {}

nodeSelector:
  kubernetes.io/arch: amd64
tolerations: []
affinity: {}
